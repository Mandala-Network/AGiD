# AGIdentity Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# WALLET CONFIGURATION
# =============================================================================
# Choose ONE mode: MPC (production) or Local (development)

# --- MPC MODE (PRODUCTION - RECOMMENDED) ---
# The AI agent uses threshold signatures - it can sign but CANNOT leak its key
# First run: DKG generates distributed key across cosigners
# Subsequent runs: Restores from encrypted share

# Comma-separated cosigner URLs (need 2+ for threshold security)
MPC_COSIGNER_ENDPOINTS=http://localhost:3001,http://localhost:3002

# Encryption key for the local key share (generate: openssl rand -hex 32)
MPC_SHARE_SECRET=

# JWT secret for cosigner authentication (generate: openssl rand -hex 32)
MPC_JWT_SECRET=

# Path to store encrypted key share
MPC_SHARE_PATH=./agent-mpc-share.json

# --- LOCAL MODE (DEVELOPMENT ONLY) ---
# Single private key - use only for testing, NOT production
# If MPC_COSIGNER_ENDPOINTS is set, this is ignored

# Agent's private key in hex format (64 characters)
# Generate with: openssl rand -hex 32
AGENT_PRIVATE_KEY=

# --- COMMON ---
# Network: 'mainnet' or 'testnet'
AGID_NETWORK=mainnet

# Path to SQLite wallet database (for UTXO tracking)
AGENT_WALLET_PATH=./agent-wallet.sqlite

# =============================================================================
# UHRP STORAGE CONFIGURATION
# =============================================================================

# UHRP storage provider URL (your storage backend)
UHRP_STORAGE_URL=https://uhrp.example.com

# UHRP resolution endpoints (leave empty for defaults)
UHRP_MAINNET_RESOLVER=https://uhrp.network/resolve
UHRP_TESTNET_RESOLVER=https://testnet.uhrp.network/resolve

# =============================================================================
# MESSAGEBOX CONFIGURATION
# =============================================================================

# MessageBox server URL
MESSAGEBOX_HOST=https://messagebox.babbage.systems

# Enable MessageBox logging
MESSAGEBOX_LOGGING=false

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# HTTP server port
AGID_SERVER_PORT=3000

# Allow unauthenticated requests (for public endpoints)
AGID_ALLOW_UNAUTHENTICATED=false

# Enable server logging
AGID_SERVER_LOGGING=false

# Server log level: 'debug', 'info', 'warn', 'error'
AGID_SERVER_LOG_LEVEL=info

# =============================================================================
# IDENTITY & CERTIFICATES
# =============================================================================

# Comma-separated list of trusted certifier public keys
TRUSTED_CERTIFIERS=

# Require certificates for identity verification
REQUIRE_CERTIFICATES=true

# Certificate verification cache duration (ms)
CERTIFICATE_CACHE_MS=60000

# =============================================================================
# TEAM VAULT
# =============================================================================

# Require certificates for team operations
TEAM_REQUIRE_CERTIFICATES=false

# =============================================================================
# OBSIDIAN VAULT (Local Encrypted)
# =============================================================================

# Path to your Obsidian vault
OBSIDIAN_VAULT_PATH=~/Documents/ObsidianVault

# Auto-warmup cache on startup (loads all docs to memory)
VAULT_AUTO_WARMUP=true

# Encrypted files subdirectory (inside vault, added to .gitignore)
VAULT_ENCRYPTED_DIR=.agid

# =============================================================================
# SHAD INTEGRATION
# =============================================================================

# Path to Shad installation
SHAD_PATH=~/.shad

# Python executable path
SHAD_PYTHON_PATH=python3

# Default strategy: software, research, analysis, planning
SHAD_STRATEGY=research

# RLM limits
SHAD_MAX_DEPTH=3
SHAD_MAX_NODES=50
SHAD_MAX_TIME=300

# =============================================================================
# ADVANCED / OPTIONAL
# =============================================================================

# Vault cache directory (for UHRP mode)
VAULT_CACHE_DIR=/tmp/agidentity-vault-cache

# Default document retention (days)
DEFAULT_RETENTION_DAYS=365
